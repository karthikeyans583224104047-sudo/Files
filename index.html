<!DOCTYPE html>
<html lang="en" style="overflow-x: hidden;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DIAMOND & LION FITNESS | Women & Youth Fitness Madurai</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://rvoupfsoghdkpyawelgq.supabase.co">

    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <script src="https://cdn.tailwindcss.com" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.33/dist/lenis.min.js" defer></script>
    <script src="https://unpkg.com/lucide@latest" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <style>
        :root { --pink: #FF1493; --yellow: #FFD700; --bg: #050505; }
        html { background-color: var(--bg); }
        body { background-color: transparent; color: white; font-family: 'Space Grotesk', sans-serif; margin: 0; padding: 0; width: 100%; overflow-x: hidden; position: relative; }
        .font-sync { font-family: 'Syncopate', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .logo-icon { display: flex; align-items: center; gap: 12px; }
        .icon-svg { width: clamp(28px, 5vw, 36px); height: clamp(28px, 5vw, 36px); fill: var(--pink); filter: drop-shadow(0 0 8px var(--pink)); animation: breathe 3s ease-in-out infinite; }
        @keyframes breathe { 0%, 100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.15); opacity: 1; } }
        .fab-container { position: fixed; bottom: 30px; right: 20px; z-index: 100; display: flex; flex-direction: column; gap: 15px; }
        .fab { width: 55px; height: 55px; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 15px 35px rgba(0,0,0,0.4); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; border: 1px solid rgba(255,255,255,0.1); }
        .fab-whatsapp { background: #25D366; color: white; }
        .fab-call { background: var(--pink); color: white; }
        #hero-video-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100vh; object-fit: cover; z-index: -1; filter: brightness(0.4) contrast(1.1); background-color: var(--bg); transition: opacity 1.5s ease-in; opacity: 0; }
        .scroll-section { position: relative; min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 0 5%; width: 100%; box-sizing: border-box; }
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.96); backdrop-filter: blur(15px); z-index: 5000; display: none; overflow-y: auto; -webkit-overflow-scrolling: touch; padding: 20px; overscroll-behavior: contain; }
        .modal-overlay.active { display: block; }
        .modal-container-inner { margin: 20px auto 100px auto; position: relative; }
        .nav-gradient { background: linear-gradient(to bottom, rgba(5,5,5,1) 0%, rgba(5,5,5,0.8) 50%, transparent 100%); }
        .gallery-wrapper { width: 100%; overflow: hidden; position: relative; }
        .gallery-container { display: flex; gap: 1.5rem; padding: 2rem 0; width: max-content; will-change: transform; }
        .gallery-item { width: clamp(280px, 75vw, 400px); height: clamp(400px, 60vh, 550px); flex-shrink: 0; border-radius: 12px; overflow: hidden; position: relative; background: #111; cursor: zoom-in; }
        @media (max-width: 1023px) { .gallery-wrapper { overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; } .gallery-wrapper::-webkit-scrollbar { display: none; } .gallery-container { padding: 1rem 5% !important; width: auto !important; } }
        #mobile-menu-overlay { position: fixed; inset: 0; background: radial-gradient(circle at center, rgba(30,30,30,0.98) 0%, rgba(5,5,5,1) 100%); z-index: 4000; display: none; flex-direction: column; align-items: center; justify-content: center; gap: 2rem; opacity: 0; backdrop-filter: blur(10px); transition: opacity 0.5s ease; }
        .mobile-nav-link { opacity: 0; transform: translateY(20px); }
        .btn-premium-cta { background-color: white; color: black; border: 2px solid black; position: relative; z-index: 1; overflow: hidden; transition: all 0.5s ease; }
        .btn-premium-cta::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; background-color: var(--pink); border-radius: 50%; transform: translate(-50%, -50%); transition: width 0.6s ease, height 0.6s ease; z-index: -1; }
        .btn-premium-cta:hover { color: white; border-color: var(--pink); box-shadow: 0 10px 30px rgba(255, 20, 147, 0.4); }
        .btn-premium-cta:hover::before { width: 300%; height: 600%; }
        .ba-container { position: relative; overflow: hidden; border-radius: 8px; width: 100%; touch-action: pan-y; }
        .ba-after { position: absolute; top: 0; left: 0; width: 50%; height: 100%; overflow: hidden; border-right: 3px solid var(--pink); }
        .ba-handle { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 48px; height: 48px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: col-resize; z-index: 10; box-shadow: 0 0 20px var(--pink); color: black; }
        .marquee-container { width: 100%; overflow: hidden; display: flex; white-space: nowrap; background: white; padding: 1.5rem 0; }
        .marquee-track { display: flex; flex-shrink: 0; gap: 5rem; width: max-content; align-items: center; }
        .brand-text { font-size: clamp(12px, 3.2vw, 24px); line-height: 1.1; }
        #loader { position: fixed; inset: 0; background: var(--bg); z-index: 9999; display: flex; align-items: center; justify-content: center; transition: opacity 0.5s ease; pointer-events: none; }
        .carousel-nav-container { position: absolute; top: 50%; left: 0; right: 0; transform: translateY(-50%); pointer-events: none; z-index: 50; padding: 0 5%; }
        .slider-nav-btn { width: 65px; height: 65px; border-radius: 50%; background: rgba(255, 20, 147, 0.15); border: 1px solid rgba(255, 20, 147, 0.4); display: flex; align-items: center; justify-content: center; color: var(--pink); transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1); cursor: pointer; pointer-events: auto; backdrop-filter: blur(12px); }
        .slider-nav-btn:hover { background: var(--pink); color: white; scale: 1.15; box-shadow: 0 0 30px rgba(255, 20, 147, 0.3); }
        #lightbox { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 6000; display: none; align-items: center; justify-content: center; padding: 20px; cursor: zoom-out; }
        #lightbox.active { display: flex; }
        #lightbox-img, #lightbox-video { max-width: 90%; max-height: 85vh; border-radius: 12px; box-shadow: 0 0 50px rgba(0,0,0,0.5); }
        #lightbox-video { display: none; }
    </style>
</head>
<body>
    <div id="loader"><div class="logo-icon scale-150"><svg class="icon-svg" viewBox="0 0 24 24"><path d="M12 2L2 12l10 10 10-10L12 2zM5.5 12L12 5.5l6.5 6.5-6.5 6.5L5.5 12z"/></svg></div></div>

    <div id="lightbox" onclick="closeLightbox()">
        <img id="lightbox-img" src="">
        <video id="lightbox-video" src="" controls playsinline></video>
        <button class="absolute top-10 right-10 text-white opacity-50 hover:opacity-100 transition-opacity"><i data-lucide="x" class="w-10 h-10"></i></button>
    </div>

    <div id="appointment-modal" class="modal-overlay">
        <div class="glass max-w-2xl w-full p-8 lg:p-12 rounded-3xl text-white modal-container-inner">
            <button onclick="closeModal('appointment-modal')" class="absolute top-6 right-6 text-white/50 hover:text-white transition-colors"><i data-lucide="x" class="w-8 h-8"></i></button>
            <div class="text-center mb-8">
                <h3 class="text-2xl lg:text-3xl font-sync font-bold uppercase italic text-[var(--pink)]">Appointment Form</h3>
                <p class="text-neutral-500 text-[11px] mt-2 tracking-[0.2em] uppercase font-bold">Appoinment Book Pannunga</p>
            </div>
            <form id="lead-form" class="grid grid-cols-1 md:grid-cols-2 gap-5">
                <div class="md:col-span-1">
                    <label class="block text-[10px] uppercase tracking-widest mb-1 opacity-50 font-bold">Full Name / பெயர்</label>
                    <input type="text" name="full_name" required class="w-full bg-white/5 border border-white/10 p-4 outline-none focus:border-[var(--pink)] rounded-lg">
                </div>
                <div class="md:col-span-1">
                    <label class="block text-[10px] uppercase tracking-widest mb-1 opacity-50 font-bold">Mobile Number / மொபைல் எண்</label>
                    <input type="tel" name="phone" required class="w-full bg-white/5 border border-white/10 p-4 outline-none focus:border-[var(--pink)] rounded-lg">
                </div>
                <div class="md:col-span-1">
                    <label class="block text-[10px] uppercase tracking-widest mb-1 opacity-50 font-bold">Age / வயது (optional)</label>
                    <input type="number" name="age" class="w-full bg-white/5 border border-white/10 p-4 outline-none focus:border-[var(--pink)] rounded-lg">
                </div>
                <div class="md:col-span-1">
                    <label class="block text-[10px] uppercase tracking-widest mb-1 opacity-50 font-bold">Select Branch / கிளை தேர்வு</label>
                    <select name="branch" class="w-full bg-neutral-900 border border-white/10 p-4 outline-none focus:border-[var(--pink)] rounded-lg">
                        <option>Diamond Fitness - Surya Nagar</option>
                        <option>Lion Fitness - Iyer Bungalow</option>
                    </select>
                </div>
                <div class="md:col-span-1">
                    <label class="block text-[10px] uppercase tracking-widest mb-1 opacity-50 font-bold">Interested Program / பயிற்சி</label>
                    <select id="program-select" name="program" class="w-full bg-neutral-900 border border-white/10 p-4 outline-none focus:border-[var(--pink)] rounded-lg">
                        <option value="Weight Loss">Weight Loss</option>
                        <option value="Yoga">Yoga</option>
                        <option value="Zumba">Zumba</option>
                        <option value="Personal Training">Personal Training</option>
                        <option value="Aerobics">Aerobics</option>
                        <option value="Cardio Exercise">Cardio Exercise</option>
                        <option value="Circuit Training">Circuit Training</option>
                        <option value="Nutrition Guidance">Nutrition Guidance</option>
                    </select>
                </div>
                <div class="md:col-span-1">
                    <label class="block text-[10px] uppercase tracking-widest mb-1 opacity-50 font-bold">Preferred Time / விருப்ப நேரம்</label>
                    <select name="preferred_time" class="w-full bg-neutral-900 border border-white/10 p-4 outline-none focus:border-[var(--pink)] rounded-lg">
                        <option>Morning</option><option>Evening</option>
                    </select>
                </div>
                <div class="md:col-span-2">
                    <label class="block text-[10px] uppercase tracking-widest mb-1 opacity-50 font-bold">Message (optional)</label>
                    <textarea name="message" class="w-full bg-white/5 border border-white/10 p-4 h-20 outline-none focus:border-[var(--pink)] rounded-lg"></textarea>
                </div>
                <button type="submit" class="md:col-span-2 w-full bg-[var(--pink)] p-5 font-bold uppercase tracking-widest rounded-lg text-white shadow-xl shadow-pink-900/30">Finalize Appointment</button>
            </form>
        </div>
    </div>

    <div id="mobile-menu-overlay">
        <button id="close-menu" class="absolute top-10 right-10 text-white"><i data-lucide="x" class="w-12 h-12"></i></button>
        <div class="text-center mb-10 scale-125">
            <span class="text-xl font-sync font-bold italic text-white block uppercase tracking-tighter">DIAMOND & LION</span>
            <span class="text-xl font-sync font-bold italic text-[var(--pink)] block uppercase tracking-tighter">FITNESS</span>
        </div>
        <a href="#about" class="mobile-nav-link text-4xl font-sync font-bold uppercase italic hover:text-[var(--pink)] transition-colors">Philosophy</a>
        <a href="#programs" class="mobile-nav-link text-4xl font-sync font-bold uppercase italic hover:text-[var(--pink)] transition-colors">Programs</a>
        <a href="gallery.html" class="mobile-nav-link text-4xl font-sync font-bold uppercase italic hover:text-[var(--pink)] transition-colors">Gallery</a>
        <a href="results.html" class="mobile-nav-link text-4xl font-sync font-bold uppercase italic hover:text-[var(--pink)] transition-colors">Results</a>
        <button id="mobile-book-btn" class="mobile-nav-link mt-8 bg-[var(--pink)] text-white px-12 py-5 font-bold uppercase tracking-widest rounded-full">Book Appointment</button>
    </div>

    <div class="fab-container">
        <a href="tel:+919585121321" class="fab fab-call" title="Call Us"><i class="fa-solid fa-phone"></i></a>
        <a href="https://wa.me/919585121321" target="_blank" class="fab fab-whatsapp" title="WhatsApp Us"><i class="fa-brands fa-whatsapp text-3xl"></i></a>
    </div>

    <video muted loop playsinline preload="auto" id="hero-video-bg"></video>

    <nav class="fixed top-0 left-0 w-full z-50 px-4 lg:px-14 py-8 lg:py-10 flex justify-between items-center nav-gradient">
        <div class="logo-icon flex-shrink-0">
            <svg class="icon-svg flex-shrink-0" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L2 12l10 10 10-10L12 2zM5.5 12L12 5.5l6.5 6.5-6.5 6.5L5.5 12z"/>
            </svg>
            <div class="brand-text font-bold tracking-tighter uppercase font-sync italic text-white whitespace-nowrap">
                DIAMOND <span class="text-[var(--pink)]">&</span> LION <span class="text-[var(--pink)]">FITNESS</span>
            </div>
        </div>
        <div class="hidden lg:flex gap-14 text-[10px] xl:text-xs font-bold uppercase tracking-[0.4em] text-white">
            <a href="#about" class="hover:text-[var(--pink)] transition-colors">Philosophy</a>
            <a href="#programs" class="hover:text-[var(--pink)] transition-colors">Programs</a>
            <a href="gallery.html" class="hover:text-[var(--pink)] transition-colors">Gallery</a>
            <a href="results.html" class="hover:text-[var(--pink)] transition-colors">Results</a>
        </div>
        <div class="flex items-center gap-4">
            <button onclick="openModal('appointment-modal')" class="hidden sm:block glass px-10 py-4 text-[10px] font-bold uppercase tracking-widest rounded-full hover:bg-white hover:text-black transition-all text-white">Book Appointment</button>
            <button id="open-menu" class="lg:hidden p-2 text-white hover:text-[var(--pink)] transition-colors"><i data-lucide="menu" class="w-9 h-9"></i></button>
        </div>
    </nav>

    <div id="smooth-wrapper">
        <div id="smooth-content">
            
            <section class="scroll-section pt-48 lg:pt-64" id="hero-section">
                <div class="text-center w-full px-4">
                    <div class="hero-reveal inline-block px-4 lg:px-6 py-2 bg-white text-black text-[9px] lg:text-xs font-bold uppercase tracking-[0.5em] mb-14 rounded-sm shadow-xl">
                        Diamond Fitness (Surya Nagar) & Lion Fitness (Iyer Bungalow)
                    </div>
                    <h1 class="hero-reveal font-sync font-bold text-[11vw] lg:text-[7vw] leading-[0.85] uppercase italic text-white">
                        Move <span class="text-[var(--pink)]">Strong.</span><br>Live Powerful.
                    </h1>
                    <p class="hero-reveal mt-10 lg:mt-14 max-w-2xl mx-auto text-neutral-400 text-lg md:text-xl leading-relaxed">
                        Welcome to Lion and Diamond Fitness — where fitness is built through movement, rhythm, balance, and discipline. No machines. No heavy weights. Just your body, and your energy.
                    </p>
                    <div class="hero-reveal mt-10 lg:mt-14 flex flex-col sm:flex-row gap-6 justify-center px-4">
                        <button onclick="openModal('appointment-modal')" class="bg-[var(--pink)] text-white px-10 lg:px-12 py-5 font-bold uppercase italic text-sm tracking-[0.2em] transition-all hover:scale-105 shadow-xl">Join Today</button>
                        <button onclick="openModal('appointment-modal')" class="glass text-white px-10 lg:px-12 py-5 font-bold uppercase italic text-sm tracking-[0.2em] transition-all hover:bg-white/10">Book an Appointment</button>
                    </div>
                </div>
            </section>

            <section class="scroll-section" id="about">
                <div class="max-w-5xl px-4 text-center lg:text-left">
                    <span class="text-[var(--yellow)] text-xs font-bold uppercase tracking-[0.4em]">Fitness Beyond Machines</span>
                    <h2 class="text-6xl md:text-8xl font-sync font-bold uppercase italic leading-[0.9] mt-8 mb-12 text-white">
                        Master Your<br><span class="text-[var(--pink)]">Body.</span>
                    </h2>
                    <p class="text-xl md:text-2xl text-neutral-300 leading-relaxed max-w-3xl mb-14">
                        We believe real fitness comes from mastering your own body. Located in the heart of Madurai, we are a no-equipment fitness center focused on activities that improve strength, flexibility, endurance, and mental well-being for the women and youth of Madurai.
                    </p>
                    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-8 w-full">
                        <div class="glass p-8 text-center"><div class="text-[var(--pink)] font-bold text-3xl mb-2 font-sync">0%</div><div class="text-[10px] uppercase tracking-widest opacity-50">Weights</div></div>
                        <div class="glass p-8 text-center"><div class="text-white font-bold text-3xl mb-2 font-sync">100%</div><div class="text-[10px] uppercase tracking-widest opacity-50">Natural</div></div>
                        <div class="glass p-8 text-center"><div class="text-[var(--yellow)] font-bold text-3xl mb-2 font-sync">24/7</div><div class="text-[10px] uppercase tracking-widest opacity-50">Support</div></div>
                        <div class="glass p-8 text-center"><div class="text-white font-bold text-3xl mb-2 font-sync">SAFE</div><div class="text-[10px] uppercase tracking-widest opacity-50">Studio</div></div>
                    </div>
                </div>
            </section>

            <main class="bg-[#050505] relative z-10 border-t border-white/5">
                <div class="bg-white py-6 marquee-container border-b border-white/10">
                    <div class="marquee-track font-sync text-black font-bold uppercase text-xl lg:text-2xl italic">
                        <span>No Equipment • Women-friendly environment • Certified trainers • High-Energy Sessions • Beginners Welcome • Fun Workouts • No Intimidation • Positive Vibes • </span>
                    </div>
                </div>

                <section id="programs" class="py-32 px-8 max-w-7xl mx-auto">
                    <div class="flex flex-col md:flex-row justify-between items-end mb-24 gap-8">
                        <div class="max-w-xl">
                            <span class="text-[var(--pink)] text-xs font-bold uppercase tracking-[0.4em]">Expertly Curated</span>
                            <h2 class="text-5xl md:text-7xl font-sync font-bold uppercase italic mt-4 text-white leading-tight">Our Services.</h2>
                        </div>
                        <p class="text-neutral-500 text-sm max-w-xs leading-relaxed uppercase tracking-widest">
                            Built for Madurai's elite community. Click a service to start your protocol today.
                        </p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-12 gap-8 h-auto">
                        <div onclick="openBookingWithService('Zumba')" class="md:col-span-8 glass p-12 flex flex-col justify-end group cursor-pointer relative overflow-hidden h-[500px]">
                            <img id="img-zumba" src="" class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-all duration-1000">
                            <div class="relative z-10">
                                <span class="bg-[var(--pink)] text-white px-3 py-1 text-[10px] font-bold uppercase mb-6 inline-block tracking-widest">Core Cardio</span>
                                <h3 class="text-5xl font-sync font-bold uppercase italic text-white leading-none">Zumba</h3>
                                <p class="text-neutral-300 mt-4 max-w-md text-sm font-medium">Dance your way to fat loss with high-energy music and fun choreography.</p>
                            </div>
                        </div>
                        <div onclick="openBookingWithService('Yoga')" class="md:col-span-4 glass p-12 flex flex-col justify-end group cursor-pointer relative overflow-hidden h-[500px]">
                            <img id="img-yoga" src="" class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-all duration-1000">
                            <div class="relative z-10">
                                <h3 class="text-4xl font-sync font-bold uppercase italic text-white">Yoga</h3>
                                <p class="text-neutral-300 text-sm mt-4 leading-relaxed font-medium">Improve wellness, flexibility, and inner calm through guided sessions.</p>
                            </div>
                        </div>
                        <div onclick="openBookingWithService('Aerobics')" class="md:col-span-4 glass p-12 flex flex-col justify-end group cursor-pointer relative overflow-hidden h-[400px]">
                            <img id="img-aerobics" src="" class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-all duration-1000">
                            <div class="relative z-10">
                                <h3 class="text-3xl font-sync font-bold uppercase italic text-white">Aerobics</h3>
                                <p class="text-neutral-300 text-xs mt-3 font-medium">Boost cardiovascular health with rhythmic aerobic exercise.</p>
                            </div>
                        </div>
                        <div onclick="openBookingWithService('Personal Training')" class="md:col-span-8 glass p-12 flex flex-col justify-end group cursor-pointer relative overflow-hidden h-[400px]">
                            <img id="img-personal_training" src="" class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-all duration-1000">
                            <div class="relative z-10">
                                <h3 class="text-4xl font-sync font-bold uppercase italic text-white">Personal Training</h3>
                                <p class="text-neutral-300 mt-4 max-w-md text-sm font-medium">Dedicated one-on-one attention to crush your specific fitness goals.</p>
                            </div>
                        </div>
                        <div onclick="openBookingWithService('Cardio Exercise')" class="md:col-span-4 glass p-12 flex flex-col justify-end group cursor-pointer relative overflow-hidden h-[400px]">
                            <img id="img-cardio" src="" class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-all duration-1000">
                            <div class="relative z-10">
                                <h3 class="text-3xl font-sync font-bold uppercase italic text-white">Cardio Exercise</h3>
                                <p class="text-neutral-300 text-xs mt-3 font-medium">High-stamina training for maximum calorie burn and heart health.</p>
                            </div>
                        </div>
                        <div onclick="openBookingWithService('Circuit Training')" class="md:col-span-4 glass p-12 flex flex-col justify-end group cursor-pointer relative overflow-hidden h-[400px]">
                            <img id="img-circuit" src="" class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-all duration-1000">
                            <div class="relative z-10">
                                <h3 class="text-3xl font-sync font-bold uppercase italic text-white">Circuit Training</h3>
                                <p class="text-neutral-300 text-xs mt-3 font-medium">Targeted full-body routines using natural bodyweight resistance.</p>
                            </div>
                        </div>
                        <div onclick="openBookingWithService('Nutrition Guidance')" class="md:col-span-4 glass p-12 flex flex-col justify-end group cursor-pointer relative overflow-hidden h-[400px]">
                            <img id="img-nutrition" src="" class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-all duration-1000">
                            <div class="relative z-10">
                                <h3 class="text-3xl font-sync font-bold uppercase italic text-white">Nutrition Guidance</h3>
                                <p class="text-neutral-300 text-xs mt-3 font-medium">Expert advice on fuel and recovery to complement your physical training.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="gallery" class="py-32 overflow-hidden bg-white/5 relative z-10">
                    <div class="px-8 mb-16 max-w-7xl mx-auto flex justify-between items-end">
                        <div><span class="text-[var(--pink)] text-xs font-bold uppercase tracking-[0.4em]">Visual Journey</span><h2 class="text-5xl md:text-7xl font-sync font-bold uppercase italic mt-4 text-white leading-none">The Portfolio.</h2></div>
                        <a href="gallery.html" class="hidden md:flex items-center gap-4 text-xs font-bold uppercase tracking-widest hover:text-[var(--pink)] transition-colors">View All Portfolio <i data-lucide="arrow-right"></i></a>
                    </div>
                    <div class="gallery-wrapper">
                        <div class="gallery-container" id="supabase-gallery">
                            </div>
                    </div>
                </section>

                <section id="featured-results" class="py-32 px-8 max-w-7xl mx-auto relative overflow-visible">
                    <div class="mb-16">
                        <span class="text-[var(--pink)] text-xs font-bold uppercase tracking-[0.4em]">Evidence of Change</span>
                        <h2 class="text-5xl md:text-7xl font-sync font-bold uppercase italic text-white mt-4 leading-none">Elite Success.</h2>
                    </div>

                    <div class="carousel-nav-container">
                        <div class="flex justify-between w-full">
                            <button id="prev-result" class="slider-nav-btn"><i data-lucide="chevron-left"></i></button>
                            <button id="next-result" class="slider-nav-btn"><i data-lucide="chevron-right"></i></button>
                        </div>
                    </div>

                    <div class="relative overflow-hidden min-h-[650px] z-10" id="result-carousel-stage">
                        <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center opacity-0 transform translate-y-10" id="featured-transformation-container">
                            </div>
                    </div>
                </section>

                <section id="arenas" class="py-32 px-8 bg-black relative border-t border-white/5">
                    <div class="max-w-7xl mx-auto">
                        <div class="mb-16">
                            <span class="text-[var(--pink)] text-xs font-bold uppercase tracking-[0.4em]">Locate Our Centers</span>
                            <h2 class="text-5xl md:text-7xl font-sync font-bold uppercase italic mt-4 text-white leading-none">Our Arenas.</h2>
                        </div>
                        <div class="grid md:grid-cols-2 gap-10">
                            <div class="glass overflow-hidden rounded-3xl">
                                <div class="h-[400px] w-full relative">
                                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4835.294019200129!2d78.15657687503067!3d9.964230690139386!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b00c783d619eaab%3A0x445d0f640794743b!2sDiamond%20fitness%20centre!5e1!3m2!1sen!2sin!4v1770390040431!5m2!1sen!2sin" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                                </div>
                                <div class="p-8">
                                    <h4 class="text-2xl font-sync font-bold uppercase italic text-[var(--pink)] mb-4">Diamond Fitness</h4>
                                    <a href="https://www.google.com/maps/search/?api=1&query=Diamond+Fitness+Surya+Nagar+Madurai" target="_blank" class="block text-neutral-400 text-sm mb-6 uppercase tracking-wider hover:text-white transition-colors flex items-center gap-2 group">
                                        Surya Nagar, Madurai, Tamil Nadu 
                                        <i data-lucide="external-link" class="w-4 h-4 opacity-50 group-hover:opacity-100"></i>
                                        <span class="text-[10px] text-[var(--pink)] ml-2 border border-[var(--pink)] px-2 py-1 rounded-full">Get Directions</span>
                                    </a>
                                    <div class="flex items-center gap-2 text-[10px] font-bold tracking-widest text-neutral-500 uppercase"><i data-lucide="clock" class="w-3 h-3"></i> 05:30 AM — 09:30 PM</div>
                                </div>
                            </div>
                            <div class="glass overflow-hidden rounded-3xl">
                                <div class="h-[400px] w-full relative">
                                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4835.257182086398!2d78.13340807583273!3d9.966714973604937!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b00c79c203815d9%3A0xe92feb75291fb904!2sLion%20Fitness%20Madurai!5e1!3m2!1sen!2sin!4v1770390146350!5m2!1sen!2sin" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                                </div>
                                <div class="p-8">
                                    <h4 class="text-2xl font-sync font-bold uppercase italic text-[var(--yellow)] mb-4">Lion Fitness</h4>
                                    <a href="https://www.google.com/maps/search/?api=1&query=Lion+Fitness+Iyer+Bungalow+Madurai" target="_blank" class="block text-neutral-400 text-sm mb-6 uppercase tracking-wider hover:text-white transition-colors flex items-center gap-2 group">
                                        Iyer Bungalow, Madurai, Tamil Nadu
                                        <i data-lucide="external-link" class="w-4 h-4 opacity-50 group-hover:opacity-100"></i>
                                        <span class="text-[10px] text-[var(--pink)] ml-2 border border-[var(--pink)] px-2 py-1 rounded-full">Get Directions</span>
                                    </a>
                                    <div class="flex items-center gap-2 text-[10px] font-bold tracking-widest text-neutral-500 uppercase"><i data-lucide="clock" class="w-3 h-3"></i> 06:00 AM — 09:00 PM</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="booking" class="py-48 px-8 bg-white text-black text-center relative overflow-hidden">
                    <div class="max-w-4xl mx-auto relative z-10 text-black">
                        <h2 class="text-5xl md:text-8xl font-sync font-bold uppercase italic mb-10 text-black">No Machines.<br><span class="text-[var(--pink)]">No Excuses.</span></h2>
                        <div class="flex flex-col sm:flex-row gap-6 justify-center">
                            <button onclick="openModal('appointment-modal')" class="btn-premium-cta px-12 py-7 font-sync font-bold uppercase italic text-lg rounded-sm shadow-2xl">Join Today</button>
                            <button onclick="openModal('appointment-modal')" class="btn-premium-cta px-12 py-7 font-sync font-bold uppercase italic text-lg rounded-sm shadow-2xl">Contact Us</button>
                        </div>
                    </div>
                </section>

                <footer class="py-20 px-8 border-t border-white/5 relative z-10 bg-[#050505] text-white">
                    <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-12">
                        <div class="logo-icon">
                            <svg class="icon-svg w-8 h-8" viewBox="0 0 24 24"><path d="M12 2L2 12l10 10 10-10L12 2zM5.5 12L12 5.5l6.5 6.5-6.5 6.5L5.5 12z"/></svg>
                            <div class="text-2xl font-sync font-bold italic uppercase leading-none">DIAMOND <span class="text-[var(--pink)]">&</span> LION</div>
                        </div>
                        <div class="flex gap-10 items-center">
                            <a href="#"><i class="fa-brands fa-instagram text-3xl"></i></a>
                            <a href="#"><i class="fa-brands fa-youtube text-3xl"></i></a>
                            <a href="https://wa.me/919585121321"><i class="fa-brands fa-whatsapp text-3xl"></i></a>
                        </div>
                        <div class="text-[9px] font-bold uppercase tracking-[0.5em] opacity-40 text-center md:text-right">Madurai’s Home for Active Fitness<br>Surya Nagar & Iyer Bungalow</div>
                    </div>
                </footer>
            </main>
        </div>
    </div>

    <script>
        const SUPABASE_URL = 'https://rvoupfsoghdkpyawelgq.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2b3VwZnNvZ2hka3B5YXdlbGdxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0MTA0MDEsImV4cCI6MjA4NDk4NjQwMX0.-1YMn0cKdHmOXEFaad0W6CewNpGYMYq-OPIsfJvLt5U';
        const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        document.addEventListener('DOMContentLoaded', () => {
            const loader = document.getElementById('loader');
            if(loader) {
                loader.style.opacity = '0';
                setTimeout(() => loader.style.display = 'none', 300);
            }

            const lenis = new Lenis({ duration: 1.2, smoothWheel: true });
            function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
            requestAnimationFrame(raf);
            
            if(window.gsap && window.ScrollTrigger && window.lucide) {
                gsap.registerPlugin(ScrollTrigger);
                lucide.createIcons();
            }
            
            loadSupabaseData();
        });

        let featuredResults = [];
        let currentSlide = 0;

        async function loadSupabaseData() {
            try {
                // UPDATE: Fetching logic changed to look DIRECTLY at storage bucket
                const [heroRes, servRes, galleryRes, transRes] = await Promise.all([
                    supabaseClient.storage.from('hero_video').list(), // Changed from table fetch to storage list
                    supabaseClient.from('service_assets').select('*'),
                    supabaseClient.storage.from('gallery').list(),
                    supabaseClient.from('transformations').select('*').eq('is_featured_homepage', true)
                ]);

                // UPDATE: New Video Play Logic
                const videoEl = document.getElementById('hero-video-bg');
                
                // Check if we found any files in the bucket
                if (heroRes.data && heroRes.data.length > 0) {
                    // Filter out system folders
                    const validFiles = heroRes.data.filter(f => f.name !== '.emptyFolderPlaceholder');
                    
                    if (validFiles.length > 0) {
                        // Take the most recent file
                        const videoFile = validFiles[0]; 
                        const { data: vidUrl } = supabaseClient.storage.from('hero_video').getPublicUrl(videoFile.name);
                        
                        videoEl.src = vidUrl.publicUrl;
                        videoEl.muted = true;
                        videoEl.playsInline = true;
                        videoEl.load();

                        const attemptPlay = () => {
                            const playPromise = videoEl.play();
                            if (playPromise !== undefined) {
                                playPromise
                                    .then(() => {
                                        videoEl.style.opacity = 1;
                                    })
                                    .catch(err => {
                                        console.warn("Autoplay fallback engaged");
                                        const unlockVideo = () => {
                                            videoEl.play();
                                            videoEl.style.opacity = 1;
                                            document.removeEventListener('touchstart', unlockVideo);
                                            document.removeEventListener('click', unlockVideo);
                                        };
                                        document.addEventListener('touchstart', unlockVideo, { once: true });
                                        document.addEventListener('click', unlockVideo, { once: true });
                                    });
                            }
                        };

                        if (videoEl.readyState >= 3) {
                            attemptPlay();
                        } else {
                            videoEl.addEventListener('loadeddata', attemptPlay);
                        }
                    }
                }

                servRes.data?.forEach(asset => {
                    const id = asset.id.replace('service_', '');
                    const img = document.getElementById(`img-${id}`);
                    if(img) img.src = asset.image_url;
                });

                const galleryContainer = document.getElementById('supabase-gallery');
                if(galleryRes.data) {
                    galleryContainer.innerHTML = '';
                    galleryRes.data.filter(f => f.name !== '.emptyFolderPlaceholder').forEach(file => {
                        const { data: url } = supabaseClient.storage.from('gallery').getPublicUrl(file.name);
                        const item = document.createElement('div');
                        item.className = 'gallery-item group';
                        const isVideo = file.name.match(/\.(mp4|webm|mov|mkv)$/i);

                        if (isVideo) {
                            item.innerHTML = `
                                <video src="${url.publicUrl}" class="w-full h-full object-cover transition-all duration-700 group-hover:scale-110" muted loop playsinline onmouseover="this.play()" onmouseout="this.pause()" onclick="openLightbox('${url.publicUrl}', 'video')"></video>
                                <div class="absolute top-4 right-4 bg-black/50 p-2 rounded-full pointer-events-none"><i data-lucide="play" class="w-4 h-4 text-white"></i></div>
                            `;
                        } else {
                            item.innerHTML = `<img src="${url.publicUrl}" class="w-full h-full object-cover transition-all duration-700 group-hover:scale-110" onclick="openLightbox('${url.publicUrl}', 'image')">`;
                        }
                        galleryContainer.appendChild(item);
                    });
                    if(window.lucide) lucide.createIcons();
                }

                if(transRes.data?.length) { 
                    featuredResults = transRes.data; 
                    renderSlide(0); 
                }

            } catch (err) { console.error("Load error:", err); }
            finally {
                initGSAPAnimations();
            }
        }

        function openLightbox(src, type) { 
            const img = document.getElementById('lightbox-img');
            const vid = document.getElementById('lightbox-video');
            if (type === 'video') {
                img.style.display = 'none'; vid.style.display = 'block'; vid.src = src; vid.play();
            } else {
                vid.style.display = 'none'; vid.pause(); img.style.display = 'block'; img.src = src;
            }
            document.getElementById('lightbox').classList.add('active'); 
            if(window.lenis) window.lenis.stop(); 
        }

        function closeLightbox() { 
            const vid = document.getElementById('lightbox-video');
            vid.pause(); 
            document.getElementById('lightbox').classList.remove('active'); 
            if(window.lenis) window.lenis.start(); 
        }

        function openBookingWithService(s) { document.getElementById('program-select').value = s; openModal('appointment-modal'); }
        
        function openModal(id) { 
            document.getElementById(id).classList.add('active'); 
            document.body.style.overflow = 'hidden'; 
            if(window.lenis) window.lenis.stop(); 
        }
        
        function closeModal(id) { 
            document.getElementById(id).classList.remove('active'); 
            document.body.style.overflow = ''; 
            if(window.lenis) window.lenis.start(); 
        }
        
        document.getElementById('open-menu').onclick = () => {
            const menu = document.getElementById('mobile-menu-overlay');
            menu.style.display = 'flex';
            setTimeout(() => {
                menu.style.opacity = '1';
                gsap.to(".mobile-nav-link", {y: 0, opacity: 1, stagger: 0.1});
            }, 10);
        };
        
        const closeMenuFunc = () => {
            const menu = document.getElementById('mobile-menu-overlay');
            menu.style.opacity = '0';
            setTimeout(() => menu.style.display = 'none', 500);
        };
        document.getElementById('close-menu').onclick = closeMenuFunc;
        document.querySelectorAll('.mobile-nav-link').forEach(link => {
            link.onclick = () => {
                if(link.id === 'mobile-book-btn') openModal('appointment-modal');
                closeMenuFunc();
            }
        });
        
        function renderSlide(index) {
            const trans = featuredResults[index];
            const container = document.getElementById('featured-transformation-container');
            if(!container) return;
            
            gsap.to(container, { opacity: 0, y: 20, duration: 0.4, onComplete: () => {
                container.innerHTML = `
                    <div class="ba-container aspect-[4/5] shadow-2xl overflow-hidden rounded-xl">
                        <img src="${trans.after_image_url}" class="w-full h-full object-cover">
                        <div class="ba-after" id="baAfter"><img src="${trans.before_image_url}" class="absolute top-0 left-0 h-full object-cover" style="width: 1000px; max-width: none;"></div>
                        <div class="ba-handle" id="baHandle"><i data-lucide="move-horizontal" class="text-black"></i></div>
                    </div>
                    <div class="space-y-8">
                        <span class="text-[var(--pink)] text-xs font-bold uppercase tracking-[0.4em]">Story ${index + 1}/${featuredResults.length}</span>
                        <h2 class="text-4xl lg:text-7xl font-sync font-bold uppercase italic text-white leading-none">${trans.member_name} <br> <span class="text-[var(--pink)]">${trans.result_summary}</span></h2>
                        <p class="text-2xl italic text-neutral-300 leading-relaxed font-light">"${trans.quote}"</p>
                    </div>
                `;
                if(window.lucide) lucide.createIcons(); 
                initSliderLogic(); 
                gsap.to(container, { opacity: 1, y: 0, duration: 0.6 });
            }});
        }

        document.getElementById('next-result').onclick = () => { currentSlide = (currentSlide + 1) % featuredResults.length; renderSlide(currentSlide); };
        document.getElementById('prev-result').onclick = () => { currentSlide = (currentSlide - 1 + featuredResults.length) % featuredResults.length; renderSlide(currentSlide); };

        function initSliderLogic() {
            const container = document.querySelector('.ba-container');
            if (!container) return;
            const update = (clientX) => {
                const rect = container.getBoundingClientRect();
                let x = Math.max(0, Math.min(clientX - rect.left, rect.width));
                let p = (x / rect.width) * 100;
                document.getElementById('baAfter').style.width = p + '%';
                document.getElementById('baHandle').style.left = p + '%';
            };
            container.addEventListener('mousemove', e => update(e.clientX));
            container.addEventListener('touchmove', e => update(e.touches[0].clientX), {passive: true});
        }

        function initGSAPAnimations() {
            gsap.to(".hero-reveal", { opacity: 1, y: 0, duration: 1.5, stagger: 0.2 });
            gsap.to("#hero-section", { scrollTrigger: { trigger: "#hero-section", start: "top top", scrub: true }, opacity: 0, y: -100 });
            
            ScrollTrigger.matchMedia({
                "(min-width: 1024px)": function() {
                    const gallery = document.querySelector('.gallery-container');
                    if (gallery) { 
                        gsap.to(gallery, { 
                            x: () => -(gallery.scrollWidth - window.innerWidth), 
                            ease: "none", 
                            scrollTrigger: { 
                                trigger: "#gallery", 
                                start: "top top", 
                                end: () => "+=" + (gallery.scrollWidth - window.innerWidth), 
                                scrub: 1, 
                                pin: true, 
                                anticipatePin: 1 
                            } 
                        }); 
                    }
                }
            });

            gsap.to(".marquee-track", { xPercent: -50, ease: "none", duration: 30, repeat: -1 });
        }
    </script>
</body>
</html>
