<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>SplitShare Wallpapers</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            // iOS color palette
            'ios-primary': '#007AFF',
            'ios-light-blue': '#E6F0FF',
            'ios-accent': '#0A84FF',
            'ios-bg-light': '#F2F2F7',
            'ios-bg-dark': '#1C1C1E',
            'ios-gray': '#8E8E93',
            'ios-white': '#FFFFFF',
            'ios-shadow': '#D1D1D6',
            'ios-red': '#FF3B30',
            'ios-green': '#34C759',
            'ios-orange': '#FF9500',
            'ios-purple': '#AF52DE'
          },
          animation: {
            'fade-in': 'fadeIn 0.3s ease-in-out',
            'slide-up': 'slideUp 0.4s ease-out',
            'scale-in': 'scaleIn 0.3s ease-out',
            'bounce-in': 'bounceIn 0.5s ease-out',
            'slide-down': 'slideDown 0.3s ease-out',
            'pulse-subtle': 'pulseSubtle 2s infinite',
            'float': 'float 3s ease-in-out infinite',
            'glow': 'glow 2s ease-in-out infinite alternate',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            slideDown: {
              '0%': { transform: 'translateY(-20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            scaleIn: {
              '0%': { transform: 'scale(0.9)', opacity: '0' },
              '100%': { transform: 'scale(1)', opacity: '1' }
            },
            bounceIn: {
              '0%': { transform: 'scale(0.3)', opacity: '0' },
              '50%': { transform: 'scale(1.05)' },
              '70%': { transform: 'scale(0.9)' },
              '100%': { transform: 'scale(1)', opacity: '1' }
            },
            pulseSubtle: {
              '0%, 100%': { opacity: '1' },
              '50%': { opacity: '0.8' }
            },
            float: {
              '0%, 100%': { transform: 'translateY(0px)' },
              '50%': { transform: 'translateY(-10px)' }
            },
            glow: {
              '0%': { boxShadow: '0 0 20px rgba(0, 122, 255, 0.3)' },
              '100%': { boxShadow: '0 0 30px rgba(0, 122, 255, 0.6)' }
            }
          }
        }
      }
    }
  </script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      transition: background-color 0.3s ease;
    }
    
    body.dark {
      background-color: #000000;
      color: #FFFFFF;
    }
    
    /* Parallax Scrolling Styles */
    #image-track {
      display: flex;
      gap: 4vmin;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(0%, -50%); 
      user-select: none;
      transition: transform 1.2s cubic-bezier(0.16, 1, 0.3, 1);
    }
    
    #image-track > .wallpaper-parallax {
      width: 40vmin;
      height: 56vmin;
      object-fit: cover;
      object-position: 100% center;
      border-radius: 16px;
      transition: all 0.3s ease;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }
    
    #image-track > .wallpaper-parallax:hover {
      transform: scale(1.05);
    }
    
    .ios-card {
      background: #FFFFFF;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      backdrop-filter: blur(20px);
    }
    
    .dark .ios-card {
      background: rgba(28, 28, 30, 0.9);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    
    .ios-button {
      background: #007AFF;
      border-radius: 14px;
      color: white;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 16px rgba(0, 122, 255, 0.3);
    }
    
    .ios-button:hover {
      background: #0056CC;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 122, 255, 0.4);
    }
    
    .ios-button:active {
      transform: scale(0.98);
    }
    
    .ios-input {
      background: #F2F2F7;
      border-radius: 14px;
      padding: 16px 18px;
      border: none;
      font-size: 16px;
      transition: all 0.3s ease;
    }
    
    .dark .ios-input {
      background: #2C2C2E;
      color: #FFFFFF;
    }
    
    .ios-input:focus {
      outline: none;
      background: #E5E5EA;
      box-shadow: 0 0 0 2px #007AFF;
    }
    
    .dark .ios-input:focus {
      background: #3A3A3C;
    }
    
    .tab-bar {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(20px);
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }
    
    .dark .tab-bar {
      background: rgba(28, 28, 30, 0.9);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .tab-item {
      transition: all 0.3s ease;
      position: relative;
    }
    
    .tab-item.active {
      color: #007AFF;
    }
    
    .tab-item.active::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 4px;
      height: 4px;
      background: #007AFF;
      border-radius: 50%;
    }
    
    .wallpaper-card {
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      overflow: hidden;
      border-radius: 16px;
      cursor: pointer;
    }
    
    .wallpaper-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }
    
    .dark .wallpaper-card:hover {
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
    }
    
    .wallpaper-card:active {
      transform: scale(0.96);
    }
    
    .modal-overlay {
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }
    
    .loading-spinner {
      border: 3px solid rgba(0, 122, 255, 0.2);
      border-radius: 50%;
      border-top: 3px solid #007AFF;
      width: 24px;
      height: 24px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .toast {
      position: fixed;
      bottom: 100px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 14px 24px;
      border-radius: 14px;
      z-index: 1000;
      animation: slideUp 0.3s ease-out;
      backdrop-filter: blur(20px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    
    .action-sheet {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(20px);
      border-radius: 20px 20px 0 0;
      transition: all 0.3s ease;
    }
    
    .dark .action-sheet {
      background: rgba(28, 28, 30, 0.9);
    }
    
    .action-sheet-item {
      padding: 18px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      transition: background 0.2s;
    }
    
    .dark .action-sheet-item {
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .action-sheet-item:active {
      background: rgba(0, 0, 0, 0.05);
    }
    
    .dark .action-sheet-item:active {
      background: rgba(255, 255, 255, 0.05);
    }
    
    .action-sheet-item:last-child {
      border-bottom: none;
    }
    
    /* Smooth scrolling */
    html {
      scroll-behavior: smooth;
    }
    
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }
    
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #C6C6C8;
      border-radius: 10px;
    }
    
    .dark ::-webkit-scrollbar-thumb {
      background: #48484A;
    }
    
    /* Hide scrollbar for tabs */
    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    
    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }
    
    /* Gradient text */
    .gradient-text {
      background: linear-gradient(135deg, #007AFF 0%, #0A84FF 50%, #AF52DE 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    /* Improved focus styles */
    button:focus-visible, 
    input:focus-visible, 
    select:focus-visible {
      outline: 2px solid #007AFF;
      outline-offset: 2px;
    }
    
    /* Image loading animation */
    .image-loading {
      background: linear-gradient(90deg, #F2F2F7 25%, #E5E5EA 50%, #F2F2F7 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
    }
    
    .dark .image-loading {
      background: linear-gradient(90deg, #2C2C2E 25%, #3A3A3C 50%, #2C2C2E 75%);
      background-size: 200% 100%;
    }
    
    @keyframes loading {
      0% {
        background-position: 200% 0;
      }
      100% {
        background-position: -200% 0;
      }
    }
    
    /* Category badges */
    .category-badge {
      padding: 6px 12px;
      border-radius: 16px;
      font-size: 12px;
      font-weight: 600;
      text-transform: capitalize;
      backdrop-filter: blur(10px);
    }
    
    .category-nature {
      background: rgba(52, 199, 89, 0.2);
      color: #34C759;
    }
    
    .category-abstract {
      background: rgba(175, 82, 222, 0.2);
      color: #AF52DE;
    }
    
    .category-dark {
      background: rgba(142, 142, 147, 0.2);
      color: #8E8E93;
    }
    
    .category-minimal {
      background: rgba(0, 122, 255, 0.2);
      color: #007AFF;
    }
    
    .category-other {
      background: rgba(255, 149, 0, 0.2);
      color: #FF9500;
    }
    
    /* Profile icon upload */
    .profile-icon-container {
      position: relative;
      display: inline-block;
    }
    
    .profile-icon-edit {
      position: absolute;
      bottom: 0;
      right: 0;
      background: #007AFF;
      color: white;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }
    
    .profile-icon-edit:hover {
      transform: scale(1.1);
    }
    
    /* User attribution */
    .user-attribution {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: #8E8E93;
    }
    
    .user-avatar {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    /* Parallax container */
    .parallax-container {
      height: 100vh;
      overflow: hidden;
      position: relative;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .dark .parallax-container {
      background: linear-gradient(135deg, #000000 0%, #1C1C1E 100%);
    }
    
    /* Delete button */
    .delete-btn {
      background: rgba(255, 59, 48, 0.9);
      color: white;
      border: none;
      border-radius: 10px;
      padding: 8px 12px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .delete-btn:hover {
      background: rgba(255, 59, 48, 1);
      transform: scale(1.05);
    }
    
    /* Glass morphism effect */
    .glass {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .dark .glass {
      background: rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }
  </style>
</head>
<body class="bg-ios-bg-light text-ios-bg-dark min-h-screen flex flex-col overflow-x-hidden">

  <!-- Auth Screen -->
  <div id="authScreen" class="flex flex-col justify-center items-center min-h-screen p-6 animate-fade-in">
    <div class="ios-card p-10 w-full max-w-md flex flex-col items-center animate-scale-in glass">
      <div class="w-24 h-24 rounded-full bg-gradient-to-br from-ios-primary to-ios-purple flex items-center justify-center mb-6 shadow-lg animate-float">
        <i class="fas fa-palette text-white text-3xl"></i>
      </div>
      <h1 class="text-3xl font-bold mb-3 gradient-text animate-glow">SplitShare Wallpapers</h1>
      <p class="text-ios-gray text-center mb-8 text-lg">Discover and share stunning wallpapers</p>
      
      <div class="w-full space-y-5">
        <input id="emailInput" type="email" placeholder="Email" class="ios-input w-full">
        <input id="passwordInput" type="password" placeholder="Password" class="ios-input w-full">
        
        <button id="loginBtn" class="ios-button w-full py-4 flex items-center justify-center animate-pulse-subtle">
          <span id="loginText">Sign In</span>
          <div id="loginSpinner" class="loading-spinner ml-2 hidden"></div>
        </button>
        
        <div class="flex items-center my-6">
          <div class="flex-1 h-px bg-ios-shadow"></div>
          <span class="px-4 text-ios-gray text-sm">or</span>
          <div class="flex-1 h-px bg-ios-shadow"></div>
        </div>
        
        <button id="signupBtn" class="w-full py-4 rounded-2xl border-2 border-ios-primary text-ios-primary font-semibold transition-all hover:bg-ios-light-blue hover:border-ios-accent">
          Create Account
        </button>
      </div>
    </div>
    
    <p class="text-ios-gray text-sm mt-8 text-center">
      By continuing, you agree to our Terms and Privacy Policy
    </p>
  </div>

  <!-- Main App Screen -->
  <div id="appScreen" class="hidden flex flex-col min-h-screen">
    <!-- Parallax Hero Section -->
    <div id="parallaxSection" class="parallax-container relative">
      <div id="image-track" data-mouse-down-at="0" data-prev-percentage="0">
        <!-- Parallax images will be loaded here -->
      </div>
      
      <!-- Header Overlay -->
      <div class="absolute top-0 left-0 right-0 pt-12 px-4 pb-4 bg-gradient-to-b from-black/50 to-transparent">
        <div class="flex justify-between items-center mb-4">
          <h1 class="text-2xl font-bold text-white">SplitShare Wallpapers</h1>
          <div class="flex items-center space-x-4">
            <button id="uploadIconBtn" class="p-3 rounded-2xl glass text-white transition-all hover:bg-white/30 animate-bounce-in">
              <i class="fas fa-plus"></i>
            </button>
            <button id="userMenuBtn" class="w-10 h-10 rounded-2xl glass flex items-center justify-center transition-all hover:bg-white/30">
              <img id="userAvatarImg" src="" class="w-full h-full rounded-2xl object-cover hidden">
              <i id="userAvatarFallback" class="fas fa-user text-white"></i>
            </button>
          </div>
        </div>
        
        <!-- Tabs -->
        <div class="flex space-x-6 overflow-x-auto pb-2 scrollbar-hide">
          <button class="tab-button active text-white font-medium pb-2 border-b-2 border-white whitespace-nowrap transition-all" data-category="all">All</button>
          <button class="tab-button text-white/70 font-medium pb-2 border-b-2 border-transparent whitespace-nowrap transition-all hover:text-white/90" data-category="nature">Nature</button>
          <button class="tab-button text-white/70 font-medium pb-2 border-b-2 border-transparent whitespace-nowrap transition-all hover:text-white/90" data-category="abstract">Abstract</button>
          <button class="tab-button text-white/70 font-medium pb-2 border-b-2 border-transparent whitespace-nowrap transition-all hover:text-white/90" data-category="dark">Dark</button>
          <button class="tab-button text-white/70 font-medium pb-2 border-b-2 border-transparent whitespace-nowrap transition-all hover:text-white/90" data-category="minimal">Minimal</button>
          <button class="tab-button text-white/70 font-medium pb-2 border-b-2 border-transparent whitespace-nowrap transition-all hover:text-white/90" data-category="favorites">Favorites</button>
          <button class="tab-button text-white/70 font-medium pb-2 border-b-2 border-transparent whitespace-nowrap transition-all hover:text-white/90" data-category="downloads">Downloads</button>
        </div>
      </div>
      
      <!-- Scroll Indicator -->
      <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white animate-bounce">
        <i class="fas fa-chevron-down text-2xl"></i>
      </div>
    </div>
    
    <!-- Wallpapers Grid -->
    <div class="flex-1 p-6 bg-ios-bg-light dark:bg-black">
      <div id="gallery" class="grid grid-cols-2 gap-4">
        <!-- Wallpaper cards will be inserted here -->
      </div>
      <div id="emptyState" class="hidden flex flex-col items-center justify-center py-20 text-center animate-pulse-subtle">
        <i class="fas fa-image text-8xl text-ios-gray/30 mb-6 animate-float"></i>
        <h3 class="text-2xl font-semibold mb-3">No wallpapers yet</h3>
        <p class="text-ios-gray max-w-xs text-lg">Be the first to upload a wallpaper to this category!</p>
        <button id="emptyUploadBtn" class="ios-button mt-6 px-8 py-4 animate-glow">Upload Now</button>
      </div>
    </div>
    
    <!-- Tab Bar -->
    <div class="tab-bar py-4 px-8 flex justify-between items-center">
      <button id="homeTab" class="tab-item active flex flex-col items-center text-xs text-ios-primary transition-all" data-tab="home">
        <i class="fas fa-home text-xl mb-1"></i>
        <span>Home</span>
      </button>
      <button class="tab-item flex flex-col items-center text-xs text-ios-gray transition-all hover:text-ios-primary/70" data-tab="explore">
        <i class="fas fa-search text-xl mb-1"></i>
        <span>Explore</span>
      </button>
      <button class="tab-item flex flex-col items-center text-xs text-ios-gray transition-all hover:text-ios-primary/70" data-tab="favorites">
        <i class="fas fa-heart text-xl mb-1"></i>
        <span>Favorites</span>
      </button>
      <button class="tab-item flex flex-col items-center text-xs text-ios-gray transition-all hover:text-ios-primary/70" data-tab="downloads">
        <i class="fas fa-download text-xl mb-1"></i>
        <span>Downloads</span>
      </button>
      <button class="tab-item flex flex-col items-center text-xs text-ios-gray transition-all hover:text-ios-primary/70" data-tab="profile">
        <i class="fas fa-user text-xl mb-1"></i>
        <span>Profile</span>
      </button>
    </div>
  </div>

  <!-- Upload Modal -->
  <div id="uploadModal" class="hidden fixed inset-0 z-50 flex items-end justify-center">
    <div class="modal-overlay absolute inset-0" id="uploadModalOverlay"></div>
    <div class="ios-card w-full max-w-lg mx-4 mb-4 p-6 relative animate-slide-up glass">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold">Upload Wallpaper</h2>
        <button id="closeUploadModal" class="p-3 rounded-2xl bg-ios-bg-light transition-all hover:bg-ios-shadow">
          <i class="fas fa-times text-ios-gray"></i>
        </button>
      </div>
      
      <div class="border-2 border-dashed border-ios-shadow rounded-2xl p-10 text-center mb-6 transition-all hover:border-ios-primary/50 hover:bg-ios-light-blue/30">
        <i class="fas fa-cloud-upload-alt text-5xl text-ios-gray/50 mb-4 animate-float"></i>
        <p class="text-ios-gray mb-2 text-lg">Drag & drop your image here</p>
        <p class="text-ios-gray text-sm">or</p>
        <input id="fileInput" type="file" accept="image/*" class="hidden" />
        <button id=
